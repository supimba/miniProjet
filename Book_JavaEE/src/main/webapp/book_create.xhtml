<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://java.sun.com/jsf/html"
   	xmlns:f="http://java.sun.com/jsf/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
	

	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
	<ui:define name="content">
		<h:outputLabel value="Ajouter un livre"></h:outputLabel>
		<br></br>
		<div class="row">
			<h:form id="insertBookForm">
				<div class="col-md-6">
					<div class="form-group">
						<h:outputLabel for="isbn">ISBN<label>*</label></h:outputLabel>
						<h:inputText id="isbn" value="#{CreateBookBean.book.isbn}" required="true" requiredMessaeg="Veuillez saisir un titre" size="20" maxlength="60" />
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<h:outputLabel for="title">Titre<label>*</label></h:outputLabel>
						<h:inputText id="title" value="#{CreateBookBean.book.title}" required="true" size="20" maxlength="60" />
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<h:outputLabel for="summary">Résumé<label>*</label></h:outputLabel>
						<h:inputTextarea id="summary" value="#{CreateBookBean.book.summary}"  required="false" cols="20" rows="10"></h:inputTextarea>
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<h:outputLabel for="language">Langue<label>*</label></h:outputLabel>
						<h:inputText id="language" value="#{CreateBookBean.book.language}" required="true" size="20" maxlength="60" />
					</div>
				</div>
				<div class="col-md-6">
					<div class="form-group">
						<h:outputLabel for="year">Année de parrution<label>*</label></h:outputLabel>
						<h:inputText id="year" value="#{CreateBookBean.book.year}" required="false" size="20" maxlength="60" />
					</div>
				</div>

						
						<h:selectManyListbox value="#{CreateBookBean.writerSelectedId}" >
						<f:selectItems value="#{CreateBookBean.writers}" var="writer" itemValue="#{writer.id}" itemLabel="#{writer.name}" ></f:selectItems>
						</h:selectManyListbox>
						
						<h:selectManyListbox value="#{CreateBookBean.categorySelectedId}" >
						<f:selectItems value="#{CreateBookBean.categories}" var="category" itemValue="#{category.id}" itemLabel="#{category.nameCategory}" ></f:selectItems>
						</h:selectManyListbox>
						
						
<!-- 						https://stackoverflow.com/questions/19139211/attribute-cannot-be-resolved-as-a-member-of-bean -->


		
				<div class="col-md-6">
					<div class="form-group">
						<div class="btn btn-primary">
							<h:commandButton value="Send" action="#{CreateBookBean.insertBook(CreateBookBean.book)}" ></h:commandButton>
						</div>
					</div>
				</div>
				<!-- 		TODO Select Category  -->
				<div class="col-md-6">
					<div class="form-group">
					
					</div>
				</div>
				<!-- 				TODO Select Writer -->
			
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>
